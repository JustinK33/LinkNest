<% content_for :title, "Create your account - LinkNest" %>

<div class="container-sm" style="padding-top: 2rem; padding-bottom: 4rem;">
  <div class="form-container">
    <div class="form-header">
      <h1>Create your account</h1>
      <p>Join LinkNest and share your links with the world</p>
    </div>

    <% if @user.errors.any? %>
      <div class="error-messages">
        <h3><%= pluralize(@user.errors.count, "error") %> prevented this account from being created:</h3>
        <ul>
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: @user, url: users_path do |form| %>
      <div class="form-group">
        <%= form.label :username, "Username" %>
        <%= form.text_field :username, 
                            required: true, 
                            autofocus: true, 
                            autocomplete: "username", 
                            placeholder: "Fluffernutter" %>
        <div class="form-hint">Your unique username for your public profile URL</div>
      </div>

      <div class="form-group">
        <%= form.label :first_name, "First name" %>
        <%= form.text_field :first_name, 
                            required: true, 
                            autocomplete: "given-name", 
                            placeholder: "Flutter" %>
      </div>

      <div class="form-group">
        <%= form.label :last_name, "Last name" %>
        <%= form.text_field :last_name, 
                            required: true, 
                            autocomplete: "family-name", 
                            placeholder: "Nutter" %>
      </div>

      <div class="form-group">
        <%= form.label :email_address, "Email address" %>
        <%= form.email_field :email_address, 
                             required: true, 
                             autocomplete: "email", 
                             placeholder: "fl123@example.com" %>
      </div>

      <div class="form-group">
        <%= form.label :password, "Password" %>
        <%= form.password_field :password, 
                                required: true, 
                                autocomplete: "new-password", 
                                placeholder: "••••••••", 
                                minlength: 8, 
                                maxlength: 72 %>
        <div class="form-hint">At least 8 characters with 1 number and 1 special character</div>
      </div>

      <div class="form-group">
        <%= form.label :password_confirmation, "Confirm password" %>
        <%= form.password_field :password_confirmation, 
                                required: true, 
                                autocomplete: "new-password", 
                                placeholder: "••••••••", 
                                minlength: 8, 
                                maxlength: 72 %>
      </div>

      <%= form.submit "Create account", class: "btn btn-primary btn-block btn-lg" %>
    <% end %>

    <p style="text-align: center; margin-top: 1.5rem; color: var(--color-gray-600);">
      Already have an account? 
      <%= link_to "Sign in", new_session_path %>
    </p>
  </div>
</div>
